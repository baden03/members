<?php
if( ! defined( 'ABSPATH' ) ) { die( 'You are not allowed to call this page directly.' ); }

$links_count = count( $links );
?>

<div class="members-footer-promotion">
  <p><?php echo esc_html( $title ); ?>

  <ul class="members-footer-promotion-links">
    <?php foreach( $links as $key => $item ): ?>
      <li>
        <?php
        $attributes = array(
          'href' => esc_url( $item['url'] ),
          'target' => isset( $item['target'] ) ? $item['target'] : false,
          'rel' => isset( $item['target'] ) ? 'noopener noreferrer' : false
        );

        $attribute_str = '';

        foreach( $attributes as $attr_key => $attr_item ) {
          if( $attr_item ) {
            $attribute_str .= sprintf( '%s="%s"', $attr_key, esc_attr( $attr_item ) );
          }
        }

        printf(
          '<a %1$s>%2$s</a>%3$s',
          $attribute_str,
          esc_html( $item['text'] ),
          $links_count === $key + 1 ? '' : '<span>/</span>'
        );
        ?>
      </li>
    <?php endforeach; ?>
  </ul>

  <ul class="members-footer-promotion-social">
    <li>
      <a href="https://facebook.com/memberpress" target="_blank" rel="noopener noreferrer">
        <svg width="16" height="16" aria-hidden="true">
          <path fill="#A7AAAD" d="M16 8.05A8.02 8.02 0 0 0 8 0C3.58 0 0 3.6 0 8.05A8 8 0 0 0 6.74 16v-5.61H4.71V8.05h2.03V6.3c0-2.02 1.2-3.15 3-3.15.9 0 1.8.16 1.8.16v1.98h-1c-1 0-1.31.62-1.31 1.27v1.49h2.22l-.35 2.34H9.23V16A8.02 8.02 0 0 0 16 8.05Z"/>
        </svg>
        <span class="screen-reader-text"><?php echo esc_html('Facebook'); ?></span>
      </a>
    </li>
    <li>
      <a href="https://www.instagram.com/memberpress" target="_blank" rel="noopener noreferrer">
        <svg width="16" height="16" aria-hidden="true">
          <path fill="#A7AAAD" d="M 8 0 C 5.828125 0 5.554688 0.0117188 4.703125 0.046875 C 3.851562 0.0859375 3.265625 0.222656 2.761719 0.421875 C 2.234375 0.625 1.789062 0.898438 1.34375 1.34375 C 0.898438 1.789062 0.625 2.234375 0.421875 2.761719 C 0.222656 3.265625 0.0859375 3.851562 0.046875 4.703125 C 0.0117188 5.554688 0 5.828125 0 8 C 0 10.171875 0.0117188 10.445312 0.046875 11.296875 C 0.0859375 12.148438 0.222656 12.734375 0.421875 13.238281 C 0.625 13.765625 0.898438 14.210938 1.34375 14.65625 C 1.789062 15.101562 2.234375 15.375 2.761719 15.578125 C 3.265625 15.777344 3.851562 15.914062 4.703125 15.953125 C 5.554688 15.988281 5.828125 16 8 16 C 10.171875 16 10.445312 15.988281 11.296875 15.953125 C 12.148438 15.914062 12.734375 15.777344 13.238281 15.578125 C 13.765625 15.375 14.210938 15.101562 14.65625 14.65625 C 15.101562 14.210938 15.375 13.765625 15.578125 13.238281 C 15.777344 12.734375 15.914062 12.148438 15.953125 11.296875 C 15.988281 10.445312 16 10.171875 16 8 C 16 5.828125 15.988281 5.554688 15.953125 4.703125 C 15.914062 3.851562 15.777344 3.265625 15.578125 2.761719 C 15.375 2.234375 15.101562 1.789062 14.65625 1.34375 C 14.210938 0.898438 13.765625 0.625 13.238281 0.421875 C 12.734375 0.222656 12.148438 0.0859375 11.296875 0.046875 C 10.445312 0.0117188 10.171875 0 8 0 Z M 8 1.441406 C 10.136719 1.441406 10.390625 1.449219 11.234375 1.488281 C 12.015625 1.523438 12.4375 1.652344 12.71875 1.765625 C 13.089844 1.910156 13.359375 2.082031 13.640625 2.359375 C 13.917969 2.640625 14.089844 2.910156 14.234375 3.28125 C 14.347656 3.5625 14.476562 3.984375 14.511719 4.765625 C 14.550781 5.609375 14.558594 5.863281 14.558594 8 C 14.558594 10.136719 14.550781 10.390625 14.511719 11.234375 C 14.476562 12.015625 14.347656 12.4375 14.234375 12.71875 C 14.089844 13.089844 13.917969 13.359375 13.640625 13.640625 C 13.359375 13.917969 13.089844 14.089844 12.71875 14.234375 C 12.4375 14.347656 12.015625 14.476562 11.234375 14.511719 C 10.390625 14.550781 10.136719 14.558594 8 14.558594 C 5.863281 14.558594 5.609375 14.550781 4.765625 14.511719 C 3.984375 14.476562 3.5625 14.347656 3.28125 14.234375 C 2.910156 14.089844 2.640625 13.917969 2.359375 13.640625 C 2.082031 13.359375 1.910156 13.089844 1.765625 12.71875 C 1.652344 12.4375 1.523438 12.015625 1.488281 11.234375 C 1.449219 10.390625 1.441406 10.136719 1.441406 8 C 1.441406 5.863281 1.449219 5.609375 1.488281 4.765625 C 1.523438 3.984375 1.652344 3.5625 1.765625 3.28125 C 1.910156 2.910156 2.082031 2.640625 2.359375 2.359375 C 2.640625 2.082031 2.910156 1.910156 3.28125 1.765625 C 3.5625 1.652344 3.984375 1.523438 4.765625 1.488281 C 5.609375 1.449219 5.863281 1.441406 8 1.441406 Z M 8 3.890625 C 5.734375 3.890625 3.890625 5.734375 3.890625 8 C 3.890625 10.265625 5.734375 12.109375 8 12.109375 C 10.265625 12.109375 12.109375 10.265625 12.109375 8 C 12.109375 5.734375 10.265625 3.890625 8 3.890625 Z M 8 10.667969 C 6.527344 10.667969 5.332031 9.472656 5.332031 8 C 5.332031 6.527344 6.527344 5.332031 8 5.332031 C 9.472656 5.332031 10.667969 6.527344 10.667969 8 C 10.667969 9.472656 9.472656 10.667969 8 10.667969 Z M 13.230469 3.730469 C 13.230469 4.261719 12.800781 4.691406 12.269531 4.691406 C 11.738281 4.691406 11.308594 4.261719 11.308594 3.730469 C 11.308594 3.199219 11.738281 2.769531 12.269531 2.769531 C 12.800781 2.769531 13.230469 3.199219 13.230469 3.730469 Z M 13.230469 3.730469 "/>
        </svg>
        <span class="screen-reader-text"><?php echo esc_html('LinkedIn'); ?></span>
      </a>
    </li>
    <li>
      <a href="https://twitter.com/memberpress" target="_blank" rel="noopener noreferrer">
        <svg width="17" height="16" aria-hidden="true">
          <path fill="#A7AAAD" d="M15.27 4.43A7.4 7.4 0 0 0 17 2.63c-.6.27-1.3.47-2 .53a3.41 3.41 0 0 0 1.53-1.93c-.66.4-1.43.7-2.2.87a3.5 3.5 0 0 0-5.96 3.2 10.14 10.14 0 0 1-7.2-3.67C.86 2.13.7 2.73.7 3.4c0 1.2.6 2.26 1.56 2.89a3.68 3.68 0 0 1-1.6-.43v.03c0 1.7 1.2 3.1 2.8 3.43-.27.06-.6.13-.9.13a3.7 3.7 0 0 1-.66-.07 3.48 3.48 0 0 0 3.26 2.43A7.05 7.05 0 0 1 0 13.24a9.73 9.73 0 0 0 5.36 1.57c6.42 0 9.91-5.3 9.91-9.92v-.46Z"/>
        </svg>
        <span class="screen-reader-text"><?php echo esc_html('Twitter'); ?></span>
      </a>
    </li>
  </ul>
</div>
